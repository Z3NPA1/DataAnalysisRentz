{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nisch\\\\Desktop\\\\Rentzzz\\\\Rentz555-v2\\\\src\\\\admin\\\\manageRequests.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect, Fragment } from \"react\";\nimport { deleteRequests, viewRequests } from \"../utils/firebase\";\nimport { individualRequests, createApprovedAdmins, mergeHouseId } from \"../utils/firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ManageRequests = () => {\n  _s();\n  const defaultFormFields = {\n    fullName: \"\",\n    emailId: \"\",\n    roomNumbers: \"\",\n    adharCard: [],\n    houseDoc: []\n  };\n  const [emailList, setEmailList] = useState([]);\n  const [adminData, setAdminData] = useState(defaultFormFields);\n  const [data, setData] = useState(defaultFormFields);\n  const [email, setEmail] = useState({\n    email: ''\n  });\n  const [uniqueId, setUniqueId] = useState({\n    uniqueId: ''\n  });\n  const fetchEmailList = async () => {\n    try {\n      const objectData = await viewRequests();\n      const list = Object.values(objectData).map(item => item.emailId);\n      console.log(list);\n      setEmailList(list);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const onChangeHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEmail(prevEmail => ({\n      ...prevEmail,\n      [name]: value\n    }));\n    console.log(email);\n  };\n  const callIndividualRequests = async () => {\n    const data = await individualRequests(email);\n    setData(data);\n    console.log(data);\n  };\n\n  //creating approved admins\n  const callCreateApprovedAdmins = async () => {\n    try {\n      await createApprovedAdmins(data, data.emailId);\n      console.log('data shifting success');\n      await deleteRequests(data.emailId);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  //onChange Handler II\n  const onChangeHandlerII = async e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setAdminData({\n      ...adminData,\n      [name]: value\n    });\n    console.log(adminData);\n  };\n  //deleting the emails\n\n  const callDeleteRequests = async () => {\n    try {\n      await deleteRequests(data.emailId);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const uniqueIdHandler = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setUniqueId({\n      ...uniqueId,\n      [name]: value\n    });\n    console.log(uniqueId);\n  };\n  const callMergeHouseId = async () => {\n    try {\n      await mergeHouseId(uniqueId.uniqueId, data.emailId);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"List of Email IDs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchEmailList,\n      children: \" View Requests \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: emailList.map((emailId, index) => /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Email ID: \", emailId, \" \"]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Respond to the requests \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \" Enter email id of the sender you want to respond\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: onChangeHandler,\n          placeholder: \"email\",\n          type: \"email\",\n          name: \"email\",\n          value: email.email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: callIndividualRequests,\n          children: \"fetch request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), data && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid:col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"FUll NANME : \", data.fullName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: [\"EMAIL ID:  \", data.emailId, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 27\n          }, this), data.adharCard && data.adharCard.map((img, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"w-50 h-10\",\n            src: img,\n            alt: \"yo\"\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 29\n          }, this)), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: onChangeHandlerII,\n            name: \"houseID\",\n            value: adminData.houseId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: callCreateApprovedAdmins,\n            children: \" accept Request \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: callDeleteRequests,\n            children: \" Reject Request \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"set Apartment Unique Id \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"uniqueId\",\n          onChange: uniqueIdHandler,\n          name: \"uniqueId\",\n          value: uniqueId.uniqueId\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: callMergeHouseId,\n          children: \" mergeUniqueId\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 7\n  }, this);\n};\n_s(ManageRequests, \"86VGLg5lM1u2G96qcG1Uf6GONgE=\");\n_c = ManageRequests;\nexport default ManageRequests;\nvar _c;\n$RefreshReg$(_c, \"ManageRequests\");","map":{"version":3,"names":["useState","useEffect","Fragment","deleteRequests","viewRequests","individualRequests","createApprovedAdmins","mergeHouseId","ManageRequests","defaultFormFields","fullName","emailId","roomNumbers","adharCard","houseDoc","emailList","setEmailList","adminData","setAdminData","data","setData","email","setEmail","uniqueId","setUniqueId","fetchEmailList","objectData","list","Object","values","map","item","console","log","error","onChangeHandler","e","name","value","target","prevEmail","callIndividualRequests","callCreateApprovedAdmins","onChangeHandlerII","callDeleteRequests","uniqueIdHandler","callMergeHouseId","index","img","houseId"],"sources":["C:/Users/nisch/Desktop/Rentzzz/Rentz555-v2/src/admin/manageRequests.js"],"sourcesContent":["\r\nimport { useState, useEffect, Fragment } from \"react\";\r\nimport { deleteRequests, viewRequests } from \"../utils/firebase\";\r\nimport { individualRequests, createApprovedAdmins, mergeHouseId } from \"../utils/firebase\";\r\n\r\n\r\nconst ManageRequests = () => {\r\n\r\n    const defaultFormFields = {\r\n        fullName: \"\",\r\n        emailId: \"\",\r\n        roomNumbers: \"\",\r\n        adharCard: [],\r\n        houseDoc: []\r\n      };\r\n\r\n    const [emailList, setEmailList] = useState([]);\r\n    const [adminData, setAdminData] = useState(defaultFormFields);\r\n    const [data, setData] = useState(defaultFormFields)\r\n\r\n    const [email, setEmail] = useState({email: ''});\r\n    const [uniqueId, setUniqueId] = useState({uniqueId: ''});\r\n    \r\n  \r\n  \r\n    \r\n      const fetchEmailList = async () => {\r\n        try {\r\n        const objectData = await viewRequests();\r\n        const list = Object.values(objectData).map((item) => item.emailId);\r\n        console.log(list);\r\n        setEmailList(list);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      };\r\n\r\n      \r\n        const onChangeHandler = (e) => {\r\n            const { name, value } = e.target;\r\n            setEmail((prevEmail) => ({ ...prevEmail, [name]: value }));\r\n            console.log(email);\r\n          };\r\n      \r\n          const callIndividualRequests = async () => {\r\n            const data = await individualRequests(email);\r\n            \r\n            setData(data);\r\n\r\n            console.log(data);\r\n          } \r\n      \r\n//creating approved admins\r\n          const callCreateApprovedAdmins = async() => {\r\n              \r\n             try{\r\n                await createApprovedAdmins(data, data.emailId);\r\n                console.log('data shifting success');\r\n              await deleteRequests(data.emailId)\r\n             } catch(error) {\r\n                console.log(error);\r\n             }\r\n\r\n          }\r\n//onChange Handler II\r\n          const onChangeHandlerII = async(e) => {\r\n            const {name, value} = e.target;\r\n            setAdminData({...adminData, [name]:value })\r\n            console.log(adminData)\r\n          }\r\n//deleting the emails\r\n\r\nconst callDeleteRequests = async() => {\r\n    try{\r\n        await deleteRequests(data.emailId);\r\n    } catch(error) {\r\n        console.log(error);\r\n    }\r\n}\r\nconst uniqueIdHandler = (e) => {\r\n    const {name, value} = e.target;\r\n    setUniqueId({...uniqueId, [name]:value });\r\n    console.log(uniqueId);\r\n    \r\n}\r\nconst callMergeHouseId = async () => {\r\n    try{\r\n        await mergeHouseId(uniqueId.uniqueId, data.emailId);\r\n    } catch(error) {\r\n        console.log(error);\r\n    }\r\n}\r\n     \r\n  \r\n    return (\r\n      <div>\r\n        <h1>List of Email IDs</h1>\r\n        <button onClick={fetchEmailList}> View Requests </button>\r\n      \r\n        <div>\r\n        {emailList.map((emailId, index) => (\r\n          <h1 key={index}>Email ID: {emailId} </h1>\r\n        ))}\r\n      </div>\r\n\r\n            <div> \r\n                <h1> Respond to the requests </h1> \r\n                <h3> Enter email id of the sender you want to respond</h3>\r\n                <div>\r\n                    <input onChange={onChangeHandler} placeholder=\"email\" type=\"email\" name=\"email\" value={email.email} />\r\n                    <button onClick={callIndividualRequests}>fetch request</button>\r\n                    \r\n                        \r\n                    {data && (\r\n                        <div className=\"grid grid:col-4\">\r\n                          <h1>FUll NANME : {data.fullName}</h1>\r\n                          <h1>EMAIL ID:  {data.emailId} </h1>\r\n\r\n                          {data.adharCard && data.adharCard.map((img, index) => (\r\n                            <img className=\"w-50 h-10\" src={img} key={index} alt=\"yo\" />\r\n                          ))}\r\n                          \r\n                            <input type=\"text\" onChange={onChangeHandlerII} name=\"houseID\" value={adminData.houseId} />\r\n                            <button onClick={callCreateApprovedAdmins}> accept Request </button>\r\n                            <button onClick={callDeleteRequests}> Reject Request </button>\r\n                            \r\n                          \r\n\r\n                        </div>\r\n                      )}\r\n            </div>\r\n\r\n            <div>\r\n                <h2>set Apartment Unique Id </h2>\r\n                <input placeholder=\"uniqueId\" onChange={uniqueIdHandler} name=\"uniqueId\" value={uniqueId.uniqueId}/>\r\n                <button onClick={callMergeHouseId}> mergeUniqueId</button>\r\n            </div>\r\n\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default ManageRequests;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}